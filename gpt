final List<Plant> plants = [
  // COMMON (0–2)
  Plant("Sunleaf", 5, Colors.green),
  Plant("Moonpetal", 6, Colors.lightBlue),
  Plant("Starroot", 7, Colors.yellow),

  // RARE (3–5)
  Plant("Frost Fern", 15, Colors.cyan),
  Plant("Mint Crystal", 18, Colors.teal),
  Plant("Ember Blossom", 22, Colors.deepOrange),

  // LEGENDARY (6)
  Plant("Phoenix Herb", 100, Colors.redAccent),
];




String getPotionName(List<int> ids) {
  ids = List.from(ids)..sort();
  final key = ids.join("_");

  const names = {
    // COMMON – only plants 0–2
    "0_0_0": "Solar Tonic",
    "1_1_1": "Lunar Draught",
    "2_2_2": "Stellar Essence",
    "0_1_2": "Balanced Brew",
    "0_0_1": "Dawn Mixture",

    // RARE – plants 3–5 involved
    "0_0_3": "Glow Tonic",
    "1_1_4": "Moonmint Infusion",
    "2_2_5": "Ember Essence",
    "0_3_4": "Crystal Blend",
    "1_4_5": "Frost Ember Draught",
    "2_3_5": "Flare Potion",
    "3_3_3": "Fern Extract",
    "4_4_4": "Mint Concentrate",
    "5_5_5": "Ember Core",
    "3_4_5": "Elemental Mix",

    // LEGENDARY – phoenix plant
    "6_6_6": "Elixir of Rebirth",
    "5_6_6": "Phoenix Blood",
    "4_6_6": "Celestial Flame",
  };

  return names[key] ?? "Mystic Elixir";
}





Rarity getRarity(List<int> ids) {
  ids = List.from(ids)..sort();
  final key = ids.join("_");

  const commonRecipes = {
    "0_0_0",
    "1_1_1",
    "2_2_2",
    "0_1_2",
    "0_0_1",
  };

  const rareRecipes = {
    "0_0_3",
    "1_1_4",
    "2_2_5",
    "0_3_4",
    "1_4_5",
    "2_3_5",
    "3_3_3",
    "4_4_4",
    "5_5_5",
    "3_4_5",
  };

  const legendaryRecipes = {
    "6_6_6",
    "5_6_6",
    "4_6_6",
  };

  if (legendaryRecipes.contains(key)) {
    return Rarity.epic;
  }
  if (rareRecipes.contains(key)) {
    return Rarity.rare;
  }
  if (commonRecipes.contains(key)) {
    return Rarity.common;
  }

  return Rarity.common;
}







String getPotionName(List<int> ids) {
  ids = List.from(ids)..sort();
  final key = ids.join("_");

  const names = {
    // COMMON – free plants only (5 recipes)
    "0_0_0": "Solar Tonic",
    "1_1_1": "Lunar Draught",
    "2_2_2": "Stellar Essence",
    "0_1_2": "Balanced Brew",
    "0_0_1": "Dawn Mixture",

    // RARE – at least one paid plant (10 recipes)
    "0_0_3": "Glow Tonic",
    "1_1_3": "Moonlit Infusion",
    "2_2_4": "Frost Essence",
    "0_3_4": "Crystal Blend",
    "1_4_5": "Ember Draught",
    "2_3_5": "Flare Potion",
    "3_3_3": "Fern Extract",
    "4_4_4": "Mint Concentrate",
    "5_5_5": "Ember Core",
    "3_4_5": "Elemental Mix",

    // LEGENDARY – very expensive
    "9_9_9": "Elixir of Rebirth",
    "8_9_9": "Phoenix Blood",
    "7_9_9": "Celestial Flame",
  };

  return names[key] ?? "Mystic Elixir";
}




Rarity getRarity(List<int> ids) {
  ids = List.from(ids)..sort();
  final key = ids.join("_");

  const commonRecipes = {
    "0_0_0",
    "1_1_1",
    "2_2_2",
    "0_1_2",
    "0_0_1",
  };

  const rareRecipes = {
    "0_0_3",
    "1_1_3",
    "2_2_4",
    "0_3_4",
    "1_4_5",
    "2_3_5",
    "3_3_3",
    "4_4_4",
    "5_5_5",
    "3_4_5",
  };

  const legendaryRecipes = {
    "9_9_9",
    "8_9_9",
    "7_9_9",
  };

  if (legendaryRecipes.contains(key)) {
    return Rarity.epic;
  }
  if (rareRecipes.contains(key)) {
    return Rarity.rare;
  }
  if (commonRecipes.contains(key)) {
    return Rarity.common;
  }

  return Rarity.common;
}








children: List.generate(game.garden.length, (i) {
        if (i >= game.unlockedSlots) {
          int cost = game.nextGardenSlotCost();
      
          return SizedBox(
            width: 100,
            height: 100,
            child: ElevatedButton(
              onPressed: game.gold >= cost
                  ? game.unlockGardenSlot
                  : null,
              child: Text(
                cost < 0
                    ? "MAX"
                    : "Unlock\n${cost}g",
                textAlign: TextAlign.center,
              ),
            ),
          );
        }
      
        final slot = game.garden[i];
      
        if (slot == null) {
          return SizedBox(
            width: 100,
            height: 100,
            child: ElevatedButton(
              onPressed: () {
                showDialog(
                  context: context,
                  builder: (_) => plantDialog(context, i),
                );
              },
              child: const Text("Plant"),
            ),
          );
        } else {
          int id = slot["plant"];
          int start = slot["start"];
          final p = plants[id];
      
          final elapsed = DateTime.now().difference(
              DateTime.fromMillisecondsSinceEpoch(start));
      
          double progress =
              elapsed.inMilliseconds /
                  p.growTime.inMilliseconds;
      
          if (progress >= 1) {
            return SizedBox(
              width: 100,
              height: 100,
              child: ElevatedButton(
                onPressed: () => game.harvest(i),
                child: Text("Harvest\n${p.name}",
                    textAlign: TextAlign.center),
              ),
            );
          }
      
          return SizedBox(
            width: 100,
            height: 100,
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Text(p.name, textAlign: TextAlign.center),
                const SizedBox(height: 6),
                LinearProgressIndicator(value: progress),
              ],
            ),
          );
        }
      }),








return Wrap(
    spacing: 10,
      runSpacing: 10,
        children: ...
        );
)
